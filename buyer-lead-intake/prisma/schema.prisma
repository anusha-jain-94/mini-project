model Buyer {
  id          Int      @id @default(autoincrement())
  name        String
  email       String   @unique
  phone       String?
  source      String?    // Lead source (referral, ad, etc.)
  budget      String?    // e.g. "50L–1Cr"
  notes       String?    // Free text
  status      String     @default("New")
  timeline    String?    // Current step (Initial Call, Site Visit…)
  followups   Followup[] // One-to-many relationship
  changes     Change[]   // Track last 5 changes
  updatedAt   DateTime   @updatedAt
  createdAt   DateTime   @default(now())
}

model Followup {
  id        Int      @id @default(autoincrement())
  date      DateTime
  note      String
  buyer     Buyer    @relation(fields: [buyerId], references: [id])
  buyerId   Int
}

model Change {
  id        Int      @id @default(autoincrement())
  field     String   // which field was changed
  oldValue  String?
  newValue  String?
  changedBy String   // which user made the change
  changedAt DateTime @default(now())
  buyer     Buyer    @relation(fields: [buyerId], references: [id])
  buyerId   Int
}
